import pandas as pd
from reportlab.lib import colors
from reportlab.lib.pagesizes import letter, landscape
from reportlab.platypus import SimpleDocTemplate, Table, TableStyle
from reportlab.lib.units import inch

def df_to_pdf(df, filename="output.pdf"):
    doc = SimpleDocTemplate(filename, pagesize=landscape(letter))
    elements = []

    # Convert DataFrame to list of lists
    data = [df.columns.tolist()] + df.values.tolist()

    # Set column widths dynamically based on page size
    num_cols = len(df.columns)
    col_width = (11 * inch) / num_cols  # Adjusted for landscape letter size
    col_widths = [col_width] * num_cols

    # Create table
   
